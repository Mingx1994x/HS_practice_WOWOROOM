<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <title>WOWOROOM</title>
  </head>
  <body>
    <%- include('./layout/header', {page: "index"}); -%>
    <section class="wrap" id="bedAdvantage">
      <div class="banner">
        <h2 class="banner-text">窩窩家居<br />跟您一起品味生活</h2>
      </div>
      <h3 class="section-title">床墊優勢</h3>
      <ul class="bedAdvantage list-unstyled">
        <li>
          <img
            class="bedAdvantage-img"
            src="https://i.imgur.com/tR426y5.png"
            alt="原木料環保"
          />
          <p class="bedAdvantage-text">原木料環保</p>
        </li>
        <li>
          <img
            class="bedAdvantage-img"
            src="https://i.imgur.com/Fd2MiBb.png"
            alt="好收納"
          />
          <p class="bedAdvantage-text">好收納</p>
        </li>
        <li>
          <img
            class="bedAdvantage-img"
            src="https://github.com/hexschool/js-training/blob/main/%E7%AC%AC%E4%B9%9D%E9%80%B1%E4%B8%BB%E7%B7%9A%E4%BB%BB%E5%8B%99%E5%9C%96%E5%BA%AB/5n1uTFh.png?raw=true"
            alt="好組裝"
          />
          <p class="bedAdvantage-text">好組裝</p>
        </li>
      </ul>
    </section>
    <section class="furniture-compare">
      <div class="wrap">
        <h3 class="section-title">家具比較</h3>
        <div class="overflowWrap">
          <table class="compare-table">
            <thead>
              <tr>
                <th></th>
                <th>窩窩系統模組家具</th>
                <th class="text-muted">組合式家具</th>
                <th class="text-muted">實木家具</th>
              </tr>
            </thead>
            <tr>
              <td>可單人自行組裝</td>
              <td><span class="material-symbols-outlined">done</span></td>
              <td class="text-muted">不一定</td>
              <td></td>
            </tr>
            <tr>
              <td>可多次重複拆裝</td>
              <td><span class="material-symbols-outlined">done</span></td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>床墊規格彈性大</td>
              <td><span class="material-symbols-outlined">done</span></td>
              <td class="text-muted">不一定</td>
              <td class="text-muted">不一定</td>
            </tr>
            <tr>
              <td>材質可長久使用</td>
              <td><span class="material-symbols-outlined">done</span></td>
              <td></td>
              <td><span class="material-symbols-outlined">done</span></td>
            </tr>
            <tr>
              <td>小客車即可搬運</td>
              <td><span class="material-symbols-outlined">done</span></td>
              <td></td>
              <td></td>
            </tr>
          </table>
        </div>
      </div>
    </section>
    <section class="recommendation" id="recommendation">
      <div class="wrap">
        <h3 class="section-title">好評推薦</h3>
        <div class="recommendation-wall">
          <ul class="gallery-top list-unstyled">
            <li class="recommendation-card">
              <img src="https://i.imgur.com/cXcOLhu.png" alt="" />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img src="https://i.imgur.com/I9L7WOr.png" alt="" />
                  <div>
                    <p>王六角</p>
                    <p class="recommend-text">Jodan 雙人床架</p>
                  </div>
                </div>
                <p>CP值很高。</p>
              </div>
            </li>
            <li class="recommendation-card">
              <img src="https://i.imgur.com/BefHmH2.png" alt="" />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img src="https://i.imgur.com/CUFGfay.png" alt="" />
                  <div>
                    <p>Leaf</p>
                    <p class="recommend-text">Antony 雙人床架</p>
                  </div>
                </div>
                <p>很喜歡～還有送三年保固～</p>
              </div>
            </li>
            <li class="recommendation-card">
              <img
                src="https://github.com/hexschool/js-training/blob/main/%E7%AC%AC%E4%B9%9D%E9%80%B1%E4%B8%BB%E7%B7%9A%E4%BB%BB%E5%8B%99%E5%9C%96%E5%BA%AB/3IATkJG.png?raw=true"
                alt=""
              />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img src="https://i.imgur.com/8WwZsLS.png" alt="" />
                  <div>
                    <p>美濃鄧子琪</p>
                    <p class="recommend-text">Charles 系列儲物組合</p>
                  </div>
                </div>
                <p>廚房必備美用品！</p>
              </div>
            </li>
            <li class="recommendation-card">
              <img src="https://i.imgur.com/HvT3zlU.png" alt="" />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img src="https://i.imgur.com/NycuPVy.png" alt="" />
                  <div>
                    <p>isRaynotArray</p>
                    <p class="recommend-text">Antony 雙人床架</p>
                  </div>
                </div>
                <p>物超所值!</p>
              </div>
            </li>
            <li class="recommendation-card">
              <img src="https://i.imgur.com/Ed7bxLr.png" alt="" />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img src="https://i.imgur.com/zdFOQIv.png" alt="" />
                  <div>
                    <p>程鮭魚</p>
                    <p class="recommend-text">Louvre 雙人床架</p>
                  </div>
                </div>
                <p>租屋用剛剛好</p>
              </div>
            </li>
          </ul>
          <ul class="gallery-bottom">
            <li class="recommendation-card">
              <img src="https://i.imgur.com/BefHmH2.png" alt="" />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img src="https://i.imgur.com/W7fyzp2.png" alt="" />
                  <div>
                    <p>小杰</p>
                    <p class="recommend-text">Louvre 雙人床架</p>
                  </div>
                </div>
                <p>非常舒適，有需要會再回購</p>
              </div>
            </li>
            <li class="recommendation-card">
              <img src="https://i.imgur.com/mjA01Tk.png" alt="" />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img
                    src="https://github.com/hexschool/js-training/blob/main/%E7%AC%AC%E4%B9%9D%E9%80%B1%E4%B8%BB%E7%B7%9A%E4%BB%BB%E5%8B%99%E5%9C%96%E5%BA%AB/8O1cOnG.png?raw=true"
                    alt=""
                  />
                  <div>
                    <p>江八角</p>
                    <p class="recommend-text">Charles 雙人床架</p>
                  </div>
                </div>
                <p>品質不錯～</p>
              </div>
            </li>
            <li class="recommendation-card">
              <img src="https://i.imgur.com/npA3DgP.png" alt="" />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img src="https://i.imgur.com/C0NDvSA.png" alt="" />
                  <div>
                    <p>juni讚神</p>
                    <p class="recommend-text">Antony 床邊桌</p>
                  </div>
                </div>
                <p>讚ㄉ！</p>
              </div>
            </li>
            <li class="recommendation-card">
              <img src="https://i.imgur.com/Ed7bxLr.png" alt="" />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img src="https://i.imgur.com/hUsTZDm.png" alt="" />
                  <div>
                    <p>久安說安安</p>
                    <p class="recommend-text">Antony 單人床架</p>
                  </div>
                </div>
                <p>一個躺剛剛好。</p>
              </div>
            </li>
            <li class="recommendation-card">
              <img src="https://i.imgur.com/mjA01Tk.png" alt="" />
              <div class="recommend-content">
                <div class="recommend-img">
                  <img
                    src="https://github.com/hexschool/js-training/blob/main/%E7%AC%AC%E4%B9%9D%E9%80%B1%E4%B8%BB%E7%B7%9A%E4%BB%BB%E5%8B%99%E5%9C%96%E5%BA%AB/3ako6QX.png?raw=true"
                    alt=""
                  />
                  <div>
                    <p>PeiQun</p>
                    <p class="recommend-text">Antony 雙人床架</p>
                  </div>
                </div>
                <p>睡起來很舒適</p>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </section>
    <section class="transport" id="transport">
      <h3 class="section-title">運送方式</h3>
      <ul class="transport-intro">
        <li class="transport-card">
          <div class="cardImg">
            <span class="material-symbols-outlined"> shopping_cart </span>
          </div>
          <h4>STEP.1</h4>
          <p>選購商品</p>
        </li>
        <li class="transport-card">
          <div class="cardImg">
            <span class="material-symbols-outlined">
              format_list_bulleted
            </span>
          </div>
          <h4>STEP.2</h4>
          <p>填寫預定資料</p>
        </li>
        <li class="transport-card">
          <div class="cardImg">
            <span class="material-symbols-outlined"> done </span>
          </div>
          <h4>STEP.3</h4>
          <p>預定成功</p>
        </li>
        <li class="transport-card">
          <div class="cardImg">
            <span class="material-symbols-outlined"> local_post_office </span>
          </div>
          <h4>STEP.4</h4>
          <p>Email 付款資訊</p>
        </li>
      </ul>
    </section>
    <section class="wrap productDisplay">
      <select name="" class="productSelect">
        <option value="全部" selected>全部</option>
        <option value="床架">床架</option>
        <option value="收納">收納</option>
        <option value="窗簾">窗簾</option>
      </select>
      <ul class="productWrap"></ul>
    </section>
    <section class="shoppingCart">
      <h3 class="section-title">我的購物車</h3>
      <div class="overflowWrap">
        <table class="shoppingCart-table">
          <thead class="cartHead">
            <tr>
              <th width="40%">品項</th>
              <th width="15%">單價</th>
              <th width="15%">數量</th>
              <th width="15%">金額</th>
              <th width="15%"></th>
            </tr>
          </thead>
          <tbody class="cartBody"></tbody>
          <tfoot class="cartFoot"></tfoot>
        </table>
      </div>
    </section>
    <section class="orderInfo wrap" id="orderInfo">
      <h3 class="section-title">填寫預訂資料</h3>
      <form action="" class="orderInfo-form">
        <div class="orderInfo-formGroup">
          <label for="customerName" class="orderInfo-label">姓名</label>
          <div class="orderInfo-inputWrap">
            <input
              type="text"
              class="orderInfo-input"
              id="customerName"
              placeholder="請輸入姓名"
              name="姓名"
            />
            <p class="orderInfo-message" data-message="姓名"></p>
          </div>
        </div>
        <div class="orderInfo-formGroup">
          <label for="customerPhone" class="orderInfo-label">電話</label>
          <div class="orderInfo-inputWrap">
            <input
              type="tel"
              class="orderInfo-input"
              id="customerPhone"
              placeholder="請輸入電話"
              name="電話"
            />
            <p class="orderInfo-message" data-message="電話"></p>
          </div>
        </div>
        <div class="orderInfo-formGroup">
          <label for="customerEmail" class="orderInfo-label">Email</label>
          <div class="orderInfo-inputWrap">
            <input
              type="email"
              class="orderInfo-input"
              id="customerEmail"
              placeholder="請輸入 Email"
              name="Email"
            />
            <p class="orderInfo-message" data-message="Email"></p>
          </div>
        </div>
        <div class="orderInfo-formGroup">
          <label for="customerAddress" class="orderInfo-label">寄送地址</label>
          <div class="orderInfo-inputWrap">
            <input
              type="text"
              class="orderInfo-input"
              id="customerAddress"
              placeholder="請輸入寄送地址"
              name="寄送地址"
            />
            <p class="orderInfo-message" data-message="寄送地址"></p>
          </div>
        </div>
        <div class="orderInfo-formGroup">
          <label for="tradeWay" class="orderInfo-label">交易方式</label>
          <div class="orderInfo-inputWrap">
            <select id="tradeWay" class="orderInfo-input" name="交易方式">
              <option value="ATM" selected>ATM</option>
              <option value="信用卡">信用卡</option>
              <option value="超商付款">超商付款</option>
            </select>
          </div>
        </div>
        <input type="submit" value="送出預訂資料" class="orderInfo-btn" />
      </form>
    </section>
    <script type="module" src="../main.js"></script>
    <script type="module">
      import axios from 'axios';
      import Swal from 'sweetalert2';
      import validate from "validate.js";

      const HexApi='https://livejs-api.hexschool.io/';
      const apiPath='yameow999';
      const customerApi=`${HexApi}api/livejs/v1/customer/${apiPath}`;

      function init(){
        getProducts();
        getCarts();
      }
      const productSelect=document.querySelector('.productSelect');
      const productWrap=document.querySelector('.productWrap');
      const cartTable=document.querySelector('.shoppingCart-table');
      const cartBody=document.querySelector('.cartBody');
      const cartFoot=document.querySelector('.cartFoot');
      let productData=new Array;
      let cartData=new Object;

      //get product data
      const getProducts=async()=>{
        try {
          const res=await axios.get(`${customerApi}/products`);
          console.log(res.data);
          productData=res.data.products;
          renderProduct(productData);

        } catch (error) {
          console.log(error.message);
        }
      }

      //get cart data
      const getCarts=async()=>{
        try {
          const res=await axios.get(`${customerApi}/carts`);
          console.log(res.data);
          cartData=res.data;
          renderCart(cartData);
        } catch (error) {
          console.log(error.message||'something went wrong');
        }
      }

      //add product data
      const addCart=async(id)=>{
        let productInfo={
            data:{
              productId:id,
              quantity:1
            }
          }
        try {
          const res=await axios.post(`${customerApi}/carts`,productInfo);
          console.log(res);
          cartData=res.data;
          renderCart(cartData);
          toastAlert();
        } catch (error) {
          console.log(error);
        }
      }

      //delete cart
      const deleteAll=async()=>{
        try {
          const res=await axios.delete(`${customerApi}/carts`);
          cartData=res.data;
          renderCart(cartData);
        } catch (error) {
          console.log(error.message);
        }
      }

      const deleteProduct=async(id)=>{
        try {
          const res=await axios.delete(`${customerApi}/carts/${id}`);
          cartData=res.data;
          renderCart(cartData);
        } catch (error) {
          console.log(error);
        }
      }

      //update
      const updateCart=async(data)=>{
        let updateData={data};
        try {
          const res=await axios.patch(`${customerApi}/carts`,updateData);
          console.log(res);
          cartData=res.data;
          renderCart(cartData);
        } catch (error) {
          console.log(error);
        }
      }

      //提交訂單
      const orderProducts=async(userInfo)=>{
        let orderData={
          data:{
            user:userInfo
          }
        }
        try {
          const res=await axios.post(`${customerApi}/orders`,orderData);
          console.log(res);
        } catch (error) {
          console.log(error);
        }
      }


      // render
      const renderProduct=(products)=>{
        productWrap.innerHTML='';
        products.forEach(product => {
          let productUrl=product.images;
          let productTitle=product.title;
          let originPrice=product['origin_price'];
          let price=product.price;
          let productId=product.id;
          createProductCard(productUrl,productTitle,originPrice,price,productId);
        });
      }

      const renderCart=(data)=>{
        cartBody.innerHTML='';
        cartFoot.innerHTML='';
        let cartsNum=data.carts.length;
        let cartTotal=data.finalTotal;
        createCartFoot(cartTotal);
        if(cartsNum!==0){
          let cartProducts=data.carts;
          cartProducts.forEach(cart=>{
            let cartId=cart.id;
            let productUrl=cart.product.images;
            let productPrice=cart.product.price;
            let productTitle=cart.product.title;
            let productQty=cart.quantity;
            let productSum=productPrice*productQty;
            createCartTable(cartId,productUrl,productPrice,productTitle,productQty,productSum);
          });
        }else{
          emptyCart();
          const discardAllBtn=document.querySelector('.discardAllBtn');
          discardAllBtn.classList.add('disabled');
        }
      }

      const createProductCard=(url,title,origin,price,id)=>{
        let productCard=document.createElement('li');
        productCard.classList.add('productCard');;
        let productType=document.createElement('h4');
        productType.classList.add('productType');
        productType.textContent='新品';
        let productImg=document.createElement('img');
        productImg.src=`${url}`;
        let addCardBtn=document.createElement('a');
        addCardBtn.classList.add('addCardBtn');
        addCardBtn.dataset.id=`${id}`;
        addCardBtn.textContent='加入購物車';
        let productTitle=document.createElement('h3');
        productTitle.textContent=`${title}`;
        let originPrice=document.createElement('del');
        originPrice.classList.add('originPrice');
        originPrice.textContent=`NT$${origin}`;
        let nowPrice=document.createElement('p');
        nowPrice.classList.add('nowPrice');
        nowPrice.textContent=`NT$${price}`;

        productCard.appendChild(productType);
        productCard.appendChild(productImg);
        productCard.appendChild(addCardBtn);
        productCard.appendChild(productTitle);
        productCard.appendChild(originPrice);
        productCard.appendChild(nowPrice);

        productWrap.appendChild(productCard);
      }

      const createCartTable=(cartId,url,price,title,quantity,sum)=> {
          let cartTableRow=document.createElement('tr');
          let cartItem=document.createElement('td');
          let cartContainer=document.createElement('div');
          cartContainer.classList.add('cardItem-title');
          let cartImg=document.createElement('img');
          cartImg.src=`${url}`;
          let cartTitle=document.createElement('p');
          cartTitle.textContent=`${title}`;

          cartContainer.appendChild(cartImg);
          cartContainer.appendChild(cartTitle);
          cartItem.appendChild(cartContainer);
          cartTableRow.appendChild(cartItem);

          let cartPrice=document.createElement('td');
          cartPrice.textContent=`NT$${price}`;
          cartTableRow.appendChild(cartPrice);

          let cartQty=document.createElement('td');
          cartQty.dataset.id=`${cartId}`;
          let minusBtn=document.createElement('button');
          minusBtn.classList.add('btn','btn-sm','btn-outline-primary','minusBtn');
          minusBtn.type='button';
          minusBtn.dataset.quantity=`${quantity}`;
          minusBtn.textContent='-';
          let quantityNum=document.createElement('span');
          quantityNum.classList.add('mx-3');
          quantityNum.textContent=`${quantity}`;
          let plusBtn=document.createElement('button');
          plusBtn.classList.add('btn','btn-sm','btn-outline-primary','plusBtn');
          plusBtn.type='button';
          plusBtn.dataset.quantity=`${quantity}`;
          plusBtn.textContent='+';
          cartQty.appendChild(minusBtn);
          cartQty.appendChild(quantityNum);
          cartQty.appendChild(plusBtn);
          cartTableRow.appendChild(cartQty);

          let cartSum=document.createElement('td');
          cartSum.textContent=`NT$${sum}`;
          cartTableRow.appendChild(cartSum);

          let discardBtn=document.createElement('td');
          discardBtn.classList.add('discardBtn');
          discardBtn.dataset.discard=`${cartId}`;
          let discardIcon=document.createElement('a');
          discardIcon.classList.add('material-symbols-outlined','removeBtn');
          discardIcon.textContent='clear';
          discardBtn.appendChild(discardIcon);
          cartTableRow.appendChild(discardBtn);

          cartBody.appendChild(cartTableRow);
        }

      const emptyCart=()=>{
        let cartTableRow=document.createElement('tr');
        let emptyState=document.createElement('td');
        emptyState.colSpan='5';
        emptyState.textContent='目前購物車是空的唷！\n趕緊選購吧！';
        emptyState.style.textAlign='center';
        cartTableRow.appendChild(emptyState);
        cartBody.appendChild(cartTableRow);
      }

      const createCartFoot=(total)=>{
        let cartTableRow=document.createElement('tr');
        let cartRemoveAll=document.createElement('td');
        cartRemoveAll.colSpan='3';
        let discardAllBtn=document.createElement('a');
        discardAllBtn.classList.add('discardAllBtn');
        discardAllBtn.textContent='刪除所有品項';
        cartRemoveAll.appendChild(discardAllBtn);
        cartTableRow.appendChild(cartRemoveAll);

        let sumText=document.createElement('td');
        let text=document.createElement('p');
        text.textContent='總金額';
        sumText.appendChild(text);
        cartTableRow.appendChild(sumText);

        let cartTotal=document.createElement('td')
        cartTotal.textContent=`NT$${total}`;
        cartTableRow.appendChild(cartTotal);
        cartFoot.appendChild(cartTableRow);
      }

      // product 按鈕監聽
      productSelect.addEventListener('change',e=>{
        let productCategory=e.target.value;
        if(productCategory==='全部'){
          renderProduct(productData);
        }else{
          let filterProduct=productData.filter(product=>product.category===productCategory);
          renderProduct(filterProduct);
        }
      })

      productWrap.addEventListener('click',e=>{
        if(e.target.dataset.id){
          let productId=e.target.dataset.id;
          // console.log(productId);
          addCart(productId);
        }
      })

      cartBody.addEventListener('click',e=>{
        let clickTarget=e.target;
        if(clickTarget.getAttribute('class').includes('removeBtn')){
          let deleteId=clickTarget.parentNode.dataset.discard;
          confirmDialog(()=>deleteProduct(deleteId));
        }else if(clickTarget.getAttribute('class').includes('plusBtn')){
          let updateData=new Object;
          updateData.id=clickTarget.parentNode.dataset.id;
          updateData.quantity=Number(clickTarget.dataset.quantity)+1;
          updateCart(updateData);
        }else if(clickTarget.getAttribute('class').includes('minusBtn')){
          let updateData=new Object;
          updateData.id=clickTarget.parentNode.dataset.id;
          updateData.quantity=Number(clickTarget.dataset.quantity)-1;
          if(updateData.quantity===0){
            confirmDialog(()=>deleteProduct(updateData.id));
          }else{
            updateCart(updateData);
          }
        }
      })

      cartFoot.addEventListener('click',e=>{
        let clickTarget=e.target;
        if(clickTarget.getAttribute('class')==='discardAllBtn'){
          confirmDialog(deleteAll);
        }
      })

      //alert
      const toastAlert=()=>{
        const Toast = Swal.mixin({
          toast: true,
          position: "top-end",
          showConfirmButton: false,
          timer: 3000,
          timerProgressBar: true,
          didOpen: (toast) => {
            toast.onmouseenter = Swal.stopTimer;
            toast.onmouseleave = Swal.resumeTimer;
          }
        });
        Toast.fire({
          icon: "success",
          title: "成功加入購物車"
        });
      }

      const confirmDialog=(fn)=>{
        Swal.fire({
            title: "Are you sure?",
            text: "You won't be able to revert this!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Yes, delete it!"
            }).then((result) => {
              if (result.isConfirmed) {
                fn();
                Swal.fire({
                title: "Deleted!",
                text: "Your file has been deleted.",
                icon: "success"
                });
              }
            });
      }

      const successDialog=()=>{
        Swal.fire({
        position: "center",
        icon: "success",
        title: "訂單已送出！",
        showConfirmButton: false,
        timer: 1500
        });
      }
      //表單
      const orderForm=document.querySelector('.orderInfo-form');
      let constraints={
        '姓名':{
          presence:{
            message:'^必填!'
          }
        },
        '電話':{
          presence:{
            message:'^必填!'
          },
          format: {
            pattern: /^[0-9]{10}$/,
            message: '^電話格式不正確，請輸入 10 位數字!'
          }
        },
        'Email':{
          presence:{
            message:'^必填!'
          },
          email: {
            message:'^email格式不正確!'
          }
        },
        '寄送地址':{
          presence:{
            message:'^必填!'
          },
        },
        '交易方式':{
          presence:{
            message:'^必填!'
          },
        }
      }

      orderForm.addEventListener('submit',e=>{
        e.preventDefault();
        let validateResult=validate(orderForm,constraints);
        if(cartData.carts.length===0){
          Swal.fire("購物車是空的唷！趕緊來選購吧！");
        }else if(validateResult){
          validForm(validateResult);
        }else{
          let userInfo=new Object;
          userInfo.name=document.querySelector('#customerName').value.trim();
          userInfo.tel=document.querySelector('#customerPhone').value.trim();
          userInfo.email=document.querySelector('#customerEmail').value.trim();
          userInfo.address=document.querySelector('#customerAddress').value.trim();
          userInfo.payment=document.querySelector('#tradeWay').value;
          // console.log(userInfo);
          orderProducts(userInfo);
          successDialog();
          deleteAll();
          orderForm.reset();
        }
      })

      const validForm=(result)=>{
          let messageItems=document.querySelectorAll('.orderInfo-message');
          messageItems.forEach(item=>{
            let message=item.dataset.message;
            console.log(message);
            let validMessage=result[message];
            if(validMessage){
              item.textContent=`${validMessage[0]}`;
            }else{
              item.textContent='';
            }
          })
      }
      init();
    </script>
  </body>
</html>
