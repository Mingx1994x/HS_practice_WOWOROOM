import"./main-b8c900b3.js";import{a as p}from"./axios-1779699b.js";const f="https://livejs-api.hexschool.io/",v="yameow999",m=`${f}api/livejs/v1/admin/${v}`,P="vruPjVITW7PaX7ruCuJr2t744jk2",u={headers:{authorization:P}},w=()=>{c3.generate({bindto:"#chart",data:{type:"pie",columns:[["data1",30,200,100,400,150,250],["data2",50,20,10,40,15,25]]}})};function B(){w(),L()}let n=new Array;const L=async()=>{try{const e=await p.get(`${m}/orders`,u);console.log(e.data),n=e.data.orders,C(n)}catch(e){console.log(e)}},k=async()=>{try{n=(await p.delete(`${m}/orders`,u)).data.orders,C(n)}catch(e){console.log(e.message)}},O=async e=>{try{n=(await p.delete(`${m}/orders/${e}`,u)).data.orders,C(n)}catch(t){console.log(t)}},j=document.querySelector(".orderPage-table"),h=j.querySelector("tbody"),C=e=>{h.innerHTML="",e.forEach(t=>{let l=t.id,c=t.user,d=t.products,a=t.updatedAt;t.paid,D(l,c,d,a)})},D=(e,t,l,c)=>{let d=document.createElement("tr"),a=document.createElement("td");a.textContent=`${e}`;let s=document.createElement("td"),E=document.createElement("p");E.textContent=`${t.name}`;let y=document.createElement("p");y.textContent=`${t.tel}`,s.appendChild(E),s.appendChild(y);let $=document.createElement("td");$.textContent=`${t.address}`;let g=document.createElement("td");g.textContent=`${t.email}`;let x=document.createElement("td");l.forEach(T=>{let S=document.createElement("p");S.textContent=`${T.title}`,x.appendChild(S)});let b=document.createElement("td");b.textContent=`${c}`;let i=document.createElement("td");i.classList.add("orderStatus");let o=document.createElement("a");o.href="#",status?o.textContent="已處理":o.textContent="未處理",i.appendChild(o);let A=document.createElement("td"),r=document.createElement("input");r.type="button",r.classList.add("delSingleOrder-Btn"),r.value="刪除",r.dataset.id=`${e}`,A.appendChild(r),d.appendChild(a),d.appendChild(s),d.appendChild($),d.appendChild(g),d.appendChild(x),d.appendChild(b),d.appendChild(i),d.appendChild(A),h.appendChild(d)},q=document.querySelector(".discardAllBtn");q.addEventListener("click",e=>{e.preventDefault(),k()});h.addEventListener("click",e=>{if(e.target.type="button"){let t=e.target;O(t.dataset.id)}});B();
